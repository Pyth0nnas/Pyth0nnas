from abc import ABC, abstractmethod
class MediaItem(ABC):
    def __init__(self, title: str, author: str, file_size_mb: float):
        self.title = title
        self.author = author
        self.file_size_mb = file_size_mb
    @abstractmethod
    def play(self):
        pass
    @abstractmethod
    def get_details(self):
        pass
    def get_basic_info(self):
        return f"Title - {self.title}, Author - {self.author}"
    
class AudioFile(MediaItem):
    def __init__(self, title, author, file_size_mb, duration_minutes: int, bitrate_kbps):
        super().__init__(title, author, file_size_mb)
        self.duration_minutes = duration_minutes
        self.bitrate_kbps = bitrate_kbps
    def play(self):
        return f"ðŸŽµ Playing audio: [{self.title}] ({self.duration_minutes} min, {self.bitrate_kbps} kbps)"
    def get_details(self):
        return f"This audio file's title is {self.title}\nIts author is {self.author}\nAudio file lasts {self.duration_minutes} minutes\nIt has a bitrate of {self.bitrate_kbps} kbps"
class VideoFile(MediaItem):
    def __init__(self, title, author, file_size_mb, duration_minutes: int, resolution: str):
        super().__init__(title, author, file_size_mb)
        self.duration_minutes = duration_minutes
        self.resolution = resolution
    def play(self):
        return f"ðŸŽ¬ Playing video: {self.title} ({self.resolution} fps, {self.duration_minutes} min)"
    def get_details(self):
        return f"This video file's title is {self.title}\nIts author is {self.author}\nVideo file lasts {self.duration_minutes} minutes\nIt has a resolution of {self.resolution} fps"
class Ebook(MediaItem):
    def __init__(self, title, author, file_size_mb, page_count: int, format: str):
        super().__init__(title, author, file_size_mb)
        self.page_count = page_count
        self.format = format
    def play(self):
        return f"ðŸ“– Opening ebook: [{self.title}] ({self.page_count} pages)"
    def get_details(self):
        return f"This ebook's title is {self.title}\nIts author is {self.author}\nEbook has {self.page_count} pages\nIt is in a format {self.format}"
class MediaLibrary:
    def __init__(self, media_items: list):
        self.media_items = media_items
    def browse_library(self):
        for item in self.media_items:
            print (item.get_basic_info())
    def play_all(self):
        for item in self.media_items:
            print (item.play())
    def find_by_author(self, author: str):
        for item in self.media_items:
            if item.author == author:
                print (item.get_details())
    def total_storage_required(self):
        tot = 0
        for item in self.media_items:
            tot += item.file_size_mb
        return tot
    
from abc import ABC, abstractmethod
class SmartDevice(ABC):
    def __init__(self, device_id: str, name: str, is_on: bool = False):
        self.device_id = device_id
        self.name = name
        self.is_on = is_on
    @abstractmethod
    def get_status(self):
        pass
    @abstractmethod
    def execute_command(self, command: str):
        pass
    def toggle(self):
        if self.is_on:
            self.is_on = False
            return f"device {self.name} has been switched off"
        else:
            self.is_on = True
            return f"device {self.name} has been switched on"
    def get_info(self):
        if self.is_on:
            return f"This device is a {self.name}, id - {self.device_id}\nDevice is switched on"
        else:
            return f"This device is a {self.name}, id - {self.device_id}\nDevice is switched off"
class SmartLight(SmartDevice):
    def __init__(self, device_id, name, is_on, brightness: int, color: str):
        super().__init__(device_id, name, is_on)
        self.brightness = brightness
        self.color = color
    def execute_command(self, command):
        if command == "brightness 50":
            self.brightness = 50
            return "brightness - 50"
        elif command == "color warm":
            self.color = "warm"
            return "light's color - warm"
        else:
            return "Unknown command"
    def get_status(self):
        if self.is_on:
            return f"Light is ON, brightness: {self.brightness}, color: {self.color}" 
        else:
            return "Light is OFF"
class SmartThermostat(SmartDevice):
    def __init__(self, device_id, name, is_on, current_temp: float, target_temp: float, mode: str):
        super().__init__(device_id, name, is_on)
        self.current_temp = current_temp
        self.target_temp = target_temp
        self.mode = mode
    def execute_command(self, command):
        if command == "temp 22.5":
            self.target_temp = 22.5
            return "target temperature - 22.5"
        elif command == "mode heat":
            self.mode = "heat"
            return "mode - heat"
        else:
            return "Unknown command"
    def get_status(self):
        if self.is_on:
            return f"Thermostat: {self.current_temp}Â°C â†’ {self.target_temp}Â°C ({self.mode} mode)"
        else:
            return "Thermostat is OFF"
class SmartLock(SmartDevice):
    def __init__(self, device_id, name, is_on, is_locked: bool, access_code: str):
        super().__init__(device_id, name, is_on)
        self.is_locked = is_locked
        self.access_code = access_code
    def execute_command(self, command):
        if command == "lock":
            self.is_locked = True
            return "Lock is locked"
        elif command == "unlock":
            self.is_locked = False
            return "Lock is unlocked"
        elif command == "code 1234":
            self.access_code = "1234"
            return "Access code has been changed"
        else:
            return "Unknown command"
    def get_status(self):
        if self.is_on:
            if self.is_locked:
                return "Lock is LOCKED"
            else:
                return "Lock is UNLOCKED"
        else:
            return "Lock is OFF" 
class SmartHome:
    def __init__(self):
        self.devices = []
    def add_device(self, device: SmartDevice):
        self.devices.append(device)
    def get_all_status(self):
        for device in self.devices:
            print (device.get_status())
        pass
    def execute_on_all(self, command: str):
        print(f"Executing '{command}' on all devices:")
        for device in self.devices:
            result = device.execute_command(command)
            print(f"  {device.name}: {result}")
        pass
    def find_device(self, device_id: str):
        for device in self.devices:
            if device.device_id == device_id:
                print (device.get_info())
        pass
    def total_devices_on(self):
        count = 0
        for device in self.devices:
            if device.is_on:
                count += 1
        print (count)
        pass

from abc import ABC, abstractmethod
class NotificationChannel(ABC):
    def __init__(self, channel_name: str):
        self.channel_name =channel_name
    @abstractmethod
    def send(self, recipient: str, message: str):
        pass
    @abstractmethod
    def format_message(self, message: str):
        pass
    def get_channel_info(self):
        return f"Channel name - {self.channel_name}"
class EmailChannel(NotificationChannel):
    def __init__(self, channel_name, sender_email: str):
        super().__init__(channel_name)
        self.sender_email = sender_email
    def format_message(self, message):
        formatted_message = message + " Sent via Email"
        return formatted_message
    def send(self, recipient, message):
        return f"ðŸ“§ Email sent to {recipient} from {self.sender_email}: {self.format_message(message)}"
    def get_channel_info(self):
        return super().get_channel_info()
class SMSChannel(NotificationChannel):
    def __init__(self, channel_name, sender_number: str):
        super().__init__(channel_name)
        self.sender_number = sender_number
    def format_message(self, message):
        if len(message) <= 154:
            formatted_message = message + " [SMS]"
            return formatted_message
        else:
            formatted_message = message[:154] + " [SMS]"
            return formatted_message
    def send(self, recipient, message):
        return f"ðŸ“± SMS sent to {recipient}: {self.format_message(message)}"
    def get_channel_info(self):
        return super().get_channel_info()
class PushNotificationChannel(NotificationChannel):
    def __init__(self, channel_name, app_name: str):
        super().__init__(channel_name)
        self.app_name = app_name
    def format_message(self, message):
        if len(message) <= 95:
            formatted_message = "ðŸ”” " + message + "..."
            return formatted_message
        else:
            formatted_message = "ðŸ”” " + message[:95] + "..."
            return formatted_message
    def send(self, recipient, message):
        return f"ðŸ”” Push notification to {recipient} via {self.app_name}: {self.format_message(message)}"
        